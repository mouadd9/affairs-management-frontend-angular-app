<div #chart class="container">
    <span
        style="color: black; margin-top:20px; font-size:2.2em; padding-bottom:15px; margin-bottom:25px;"
        class="icon dash"><mat-icon
            style="padding-right: 5px; ">group</mat-icon>Users Management
    </span>

    <span style="color: black; font-size:1.9em;"
        class="padding-bottom-10 icon"><mat-icon
            style="padding-right: 5px;">equalizer</mat-icon>Users
    </span>

    <div class="upperSection">

        <mat-form-field appearance="outline" class="custom-form-field">
            <mat-label>Username</mat-label>
            <input matInput type="text" (change)="filterUsers($event)">
        </mat-form-field>

        <span class="spacer"></span>

        <button class="icon2" mat-button
            (click)="scrollToForm()"><mat-icon>person_add</mat-icon>Add
            User</button>

    </div>

    <table matSort mat-table [dataSource]="dataSource"
        style="color: white; background-color:  #11151163 !important ;">

        <ng-container matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> ID </th>
            <td mat-cell *matCellDef="let element">{{element.id}}</td>
        </ng-container>

        <ng-container matColumnDef="firstName">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> First Name
            </th>
            <td mat-cell *matCellDef="let element">{{element.firstName}}</td>
        </ng-container>

        <ng-container matColumnDef="lastName">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Last Name
            </th>
            <td mat-cell *matCellDef="let element">{{element.lastName}}</td>
        </ng-container>

        <ng-container matColumnDef="email">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Email </th>
            <td mat-cell *matCellDef="let element">{{element.email}}</td>
        </ng-container>

        <ng-container matColumnDef="username">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Username
            </th>
            <td mat-cell *matCellDef="let element">{{element.username}}</td>
        </ng-container>

        <ng-container matColumnDef="roles">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Roles </th>
            <td mat-cell
                *matCellDef="let element">{{element.roles.join(', ')}}</td>
        </ng-container>

          <!-- New Actions column -->
  <ng-container matColumnDef="actions">
    <th mat-header-cell *matHeaderCellDef> Actions </th>
    <td mat-cell *matCellDef="let user">
      <button mat-icon-button color="warn" (click)="deleteUser(user.id)">
        <mat-icon>delete</mat-icon>
      </button>
    </td>
  </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>

    <mat-paginator style="color: white; background-color: #131413c8 ;"
        [pageSizeOptions]="[5,10,15,30,50]">
    </mat-paginator>

    <router-outlet #userFormOutlet></router-outlet>

</div>
